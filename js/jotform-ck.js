/*jslint nomen:false, debug:true, evil:true, vars:false, browser:true, forin:true, undef:false, white:false *//**
 * JotForm Form object
 */var JotForm={url:"//www.jotform.com/",server:"//www.jotform.com/server.php",conditions:{},condValues:{},forms:[],saveForm:!1,imageFiles:["png","jpg","jpeg","ico","tiff","bmp","gif","apng","jp2","jfif"],autoCompletes:{},defaultValues:{},debug:!1,highlightInputs:!0,noJump:!1,initializing:!0,lastFocus:!1,saving:!1,texts:{confirmEmail:"E-mail does not match",pleaseWait:"Please wait...",confirmClearForm:"Are you sure you want to clear the form",lessThan:"Your score should be less than or equal to",incompleteFields:"There are incomplete required fields. Please complete them.",required:"This field is required.",requireOne:"At least one field required.",requireEveryRow:"Every row is required.",email:"Enter a valid e-mail address",alphabetic:"This field can only contain letters",numeric:"This field can only contain numeric values",alphanumeric:"This field can only contain letters and numbers.",uploadExtensions:"You can only upload following files:",uploadFilesize:"File size cannot be bigger than:",gradingScoreError:"Score total should only be less than or equal to",inputCarretErrorA:"Input should not less than the minimum value:",inputCarretErrorB:"Input should not greater than the maximum value:",maxDigitsError:"The maximum digits allowed is"},getServerURL:function(){var e=$$(".jotform-form")[0],t;if(e)if(t=e.readAttribute("action"))if(t.include("submit.php")||t.include("server.php")){var n=t.include("server.php")?"server":"submit";this.server=t.replace(n+".php","server.php");this.url=t.replace(n+".php","")}else{var r=t.replace(/\/submit\/.*?$/,"/");this.server=r+"server.php";this.url=r}},alterTexts:function(e){Object.extend(this.texts,e||{})},ie:function(){var e,t=3,n=document.createElement("div"),r=n.getElementsByTagName("i");while(n.innerHTML="<!--[if gt IE "+ ++t+"]><i></i><![endif]-->",r[0]);return t>4?t:e},createConsole:function(){var e=["log","info","warn","error"];$A(e).each(function(e){this[e]=function(){if(JotForm.debug&&"console"in window)try{console[e].apply(this,arguments)}catch(t){typeof arguments[0]=="string"?console.log(e.toUpperCase()+": "+$A(arguments).join(", ")):Prototype.Browser.IE?alert(e+": "+arguments[0]):console[e](arguments[0])}}}.bind(this));JotForm.debug&&(JotForm.debugOptions=document.readJsonCookie("debug_options"))},init:function(e){var t=function(){try{this.populateGet();document.get.debug=="1"&&(this.debug=!0);this.createConsole();this.getServerURL();e&&e();(document.get.mode=="edit"||document.get.mode=="inlineEdit"||document.get.mode=="submissionToPDF")&&document.get.sid&&this.editMode();this.noJump="nojump"in document.get;this.uniqueID=this.uniqid();this.checkMultipleUploads();this.handleSavedForm();this.setTitle();this.getDefaults();this.handlePayPalProMethods();this.handleFormCollapse();this.handlePages();window.parent&&window.parent!=window&&this.handleIFrameHeight();this.highLightLines();this.setButtonActions();this.initGradingInputs();this.initSpinnerInputs();this.initNumberInputs();this.setConditionEvents();this.prePopulations();this.handleAutoCompletes();this.handleTextareaLimits();this.handleDateTimeChecks();this.handleOtherOptions();this.setFocusEvents();this.disableAcceptonChrome();this.handleScreenshot();$A(document.forms).each(function(e){(e.name=="form_"+e.id||e.name=="q_form_"+e.id)&&this.forms.push(e)}.bind(this));this.validator();this.fixIESubmitURL();this.disableHTML5FormValidation()}catch(t){JotForm.error(t)}this.initializing=!1}.bind(this);document.readyState=="complete"||this.jsForm&&document.readyState===undefined?t():document.ready(t)},handleIFrameHeight:function(){var e;if($$(".form-collapse-table").length>0)e=$$("body")[0].getHeight();else if($$(".form-section").length>1){var t=0,n=$$("body")[0],r=$$(".form-section");r.each(function(e){e.setStyle({display:"none"})});r.each(function(e){e.setStyle({display:"block"});t<n.getHeight()&&(t=n.getHeight());e.setStyle({display:"none"})});r[0].setStyle({display:"block"});e=t}else e=$$("body").first().getHeight();e=document.title=="Please Complete"?300:e+40;window.parent.postMessage("setHeight:"+e,"*")},fixIESubmitURL:function(){try{this.ie()<=8&&navigator.appVersion.indexOf("NT 5.")&&$A(this.forms).each(function(e){e.action.include("s://submit.")&&(e.action=e.action.replace(/\/\/submit\..*?\//,"//secure.jotform.com/"))})}catch(e){}},screenshot:!1,passive:!1,onprogress:!1,compact:!1,imageSaved:!1,handleScreenshot:function(){var e=this;setTimeout(function(){$$(".form-screen-button").each(function(t){if(window.parent&&window.parent.JotformFeedbackManager){e.getContainer(t).show();t.observe("click",function(){e.passive=!1;try{e.takeScreenShot(t.id.replace("button_",""))}catch(n){console.error(n)}});setTimeout(function(){e.passive=!window.parent.wishboxInstantLoad;e.takeScreenShot(t.id.replace("button_",""))},0)}})},300)},getCharset:function(e){e||(e=document);return e.characterSet||e.defaultCharset||e.charset||"UTF-8"},disableHTML5FormValidation:function(){$$("form").each(function(e){e.setAttribute("novalidate",!0)})},takeScreenShot:function(e){var t=window.parent,n='<div id="js_loading" style="position:fixed; z-index:10000000; text-align:center; background:#333; border-radius:5px; top: 20px; right: 20px; padding:10px; box-shadow:0 0 5 rgba(0,0,0,0.5);"><img src="'+this.url+'images/loader-black.gif" />'+'<div style="font-family:verdana; font-size:12px;color:#fff;">'+"Please Wait"+"</div></div>";if(this.onprogress){t.$jot(n).appendTo("body");return}t.wishboxCompactLoad&&(this.compact=!0);if(this.screenshot){this.compact?t.$jot(".jt-dimmer").hide():t.$jot(".jt-dimmer, .jotform-feedback-link, .jt-feedback").hide();t.jotformScreenshotURL=this.screenshot.data;this.injectEditor(this.screenshot.data,this.screenshot.shotURL);return}this.scuniq=JotForm.uniqid();this.scID=e;var r=JotForm.getForm($("button_"+this.scID));this.sformID=r.formID.value;this.onprogress=!0;var i=this;this.wishboxServer="http://screenshots.jotform.com/wishbox-server.php";var s=(new Element("form",{action:this.wishboxServer,target:"screen_frame",id:"screen_form",method:"post","accept-charset":"utf-8"})).hide(),o='<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" >';t.$jot(".jt-dimmer, .jotform-feedback-link, .jt-feedback").hide();t.$jot(".hide-on-screenshot, .hide-on-screenshot *").css({visibility:"hidden"});var u=t.document.getElementsByTagName("html")[0].innerHTML;u=u.replace(/(<noscript\b[^>]*>.*?<\/noscript>)+/gim,"");u=u.replace(/(<noscript\b[^>]*>(\s+.*\s+)+)+<\/noscript>/gim,"");t.$jot(".hide-on-screenshot, .hide-on-screenshot *").css({visibility:"visible"});u=u.replace(/(\<\/head\>)/gim,"<style>body,html{ min-height: 800px; }</style>$1");var a=i.ie();a!==undefined&&a<9&&(u=u.replace(/(\<\/head\>)/gim,"<style>*{ border-radius:0 !important; text-shadow:none !important; box-shadow:none !important; }</style>$1"));if(this.passive)t.$jot(".jt-dimmer, .jotform-feedback-link, .jt-feedback").show();else{t.$jot(".jotform-feedback-link").show();t.$jot(n).appendTo("body")}var f=new Element("textarea",{name:"html"}),l=this.getCharset(t.document).toLowerCase()!=="utf-8";if(l){f.value=encodeURIComponent(o+u+"</html>");s.insert((new Element("input",{type:"hidden",name:"nozip"})).putValue("1"))}else{s.insert((new Element("input",{type:"hidden",name:"nozip"})).putValue("0"));f.value=encodeURIComponent(t.$jot.jSEND(o+u+"</html>"))}var c=(new Element("input",{type:"hidden",name:"charset"})).putValue(this.getCharset(t.document)),h=(new Element("input",{type:"hidden",name:"height"})).putValue(parseFloat(t.$jot(t).height())),p=(new Element("input",{type:"hidden",name:"scrollTop"})).putValue(t.$jot(t).scrollTop()),d=(new Element("input",{type:"hidden",name:"url"})).putValue(t.location.href),v=(new Element("input",{type:"hidden",name:"uniqID"})).putValue(this.scuniq),m=(new Element("input",{type:"hidden",name:"formID"})).putValue(this.sformID),g=(new Element("input",{type:"hidden",name:"action"})).putValue("getScreenshot"),y=(new Element("iframe",{name:"screen_frame",id:"screen_frame_id"})).hide();y.observe("load",function(){i.checkScreenShot()});t.wishboxInstantLoad&&(a===undefined||a>8)&&this.injectEditor(!1,!1);s.insert(f).insert(h).insert(p).insert(g).insert(v).insert(d).insert(m).insert(c);$(document.body).insert(s).insert(y);s.submit()},checkScreenShot:function(){var e=this,t=window.parent,n=10;t.$jot.getJSON("http://screenshots.jotform.com/queue/"+this.scuniq+"?callback=?",function(r){if(r.success===!0)t.$jot.getJSON(r.dataURL+"?callback=?",function(n){if(e.passive===!1){t.jotformScreenshotURL=n.data;e.injectEditor(n.data,n.shotURL)}e.screenshot=n;e.onprogress=!1;$("screen_form")&&$("screen_form").remove();$("screen_frame_id")&&$("screen_frame_id").remove()});else if(r.status!="waiting"&&r.status!="working"||!--n){alert("We are under heavy load right now. Please try again later.");t.$jot(".jt-dimmer, .jotform-feedback-link").show();t.$jot(".jt-feedback").show("slow")}else setTimeout(function(){e.checkScreenShot()},1e3)})},injectEditor:function(e,t){if(this.injected)return;this.injected=!0;var n=this,r=window.parent;r.$jot("#js_loading").remove();r.$jot.getJSON(this.server+"?callback=?",{action:"getScreenEditorTemplate",compact:this.compact},function(i){var s='<iframe allowtransparency="true" id="wishbox-frame" src="" frameborder="0" style="display:none;border:none; ';n.compact?s+="position:absolute;left:0;top:10px;height:"+(r.$jot(r).height()-120)+"px;width:"+(r.$jot(r).width()-100-r.$jot("#js-form-content").width())+"px;":s+="position:fixed;top:0;width:100%;height:100%;left:0;z-index:100000000;";s+='" scrolling="no"></iframe>';var o;r.iframeWidth=r.$jot(r).width()-100-r.$jot("#js-form-content").width();r.iframeHeight=r.$jot(r).height()-120;n.compact?o=r.$jot(s).insertBefore("#js-form-content"):o=r.$jot(s).appendTo("body");n.compact&&r.$jot("#js-form-content").css({"float":"right"});var u=n.ie();if(u!==undefined&&u<9){o.attr("src","http://screenshots.jotform.com/opt/templates/screen_editor.html?shot="+t+"&uniq="+n.scuniq);var a=r.$jot('<button style="color:#fff;font-size:14px;background:#F59202;border:1px solid #Fa98a2;font-weight:bold;position:fixed;top:5px;right:40px;width:100px;z-index:100000001;">Close Editor</button>').appendTo("body");a.click(function(){r.$jot.getJSON("http://screenshots.jotform.com/wishbox-server.php?callback=?",{action:"getImage",uniqID:n.scuniq},function(e){if(!e.success){if(confirm("You haven't save your edits. Are you sure you want to close the editor?")){c();a.remove()}}else{c();a.remove();h(e.data,e.shotURL)}})})}else{var f=o[0],l=f.contentWindow?f.contentWindow:f.contentDocument.document?f.contentDocument.document:f.contentDocument;l.document.open();l.document.write(i.template);setTimeout(function(){l.document.close()},200);r.jotformScreenshotURL=e}var c=function(){if(n.compact){o.remove();r.$jot("#js-form-content").css("width","100%")}else o.hide("slow",function(){o.remove()});n.injected=!1;r.$jot(".jt-dimmer, .jotform-feedback-link").show();r.$jot(".jt-feedback").show("slow")},h=function(e,t){$("screen_"+n.scID).update('<img width="100%" align="center" src="'+(t?t:e)+'" />');$("data_"+n.scID).value=e;$("screen_"+n.scID).up().show()};r.JotformCancelEditor=function(){c()};r.JotformFinishEditing=function(e){c();h(e);n.imageSaved=!0;n.compact&&setTimeout(function(){$(document).fire("image:loaded")},100)}})},populateGet:function(){try{"FrameBuilder"in window.parent&&"get"in window.parent.FrameBuilder&&window.parent.FrameBuilder.get!=[]&&(document.get=Object.extend(document.get,window.parent.FrameBuilder.get))}catch(e){}},checkMultipleUploads:function(){if($$(".form-upload-multiple").length>0){var e=document.createElement("script");e.type="text/javascript";e.src=this.url.replace("submit.","www.")+"file-uploader/fileuploader.js";$(document.body).appendChild(e)}},uniqid:function(e,t){typeof e=="undefined"&&(e="");var n,r=function(e,t){e=parseInt(e,10).toString(16);return t<e.length?e.slice(e.length-t):t>e.length?Array(1+(t-e.length)).join("0")+e:e};this.php_js||(this.php_js={});this.php_js.uniqidSeed||(this.php_js.uniqidSeed=Math.floor(Math.random()*123456789));this.php_js.uniqidSeed++;n=e;n+=r(parseInt((new Date).getTime()/1e3,10),8);n+=r(this.php_js.uniqidSeed,5);t&&(n+=(Math.random()*10).toFixed(8).toString());return n},initMultipleUploads:function(){$$(".form-upload-multiple").each(function(e){var t=e.up("div"),n=JotForm.getForm(e),r=n.formID.value,i=r+"_"+JotForm.uniqueID,s=e.className;if(s.include("validate[required]")){t.addClassName("validate[required]");t.validateInput=function(){if(!JotForm.isVisible(t)){JotForm.corrected(t);return!0}if(t.select(".qq-upload-list li").length<1){JotForm.errored(t,JotForm.texts.required);return!1}JotForm.corrected(t);return!0}}var o=(new Element("input",{type:"hidden",name:"temp_upload_folder"})).setValue(i);n.insert({top:o});var u=(e.readAttribute("file-accept")||"").strip();u=u!=="*"?u.split(", "):[];var a,f="";(a=e.next())&&a.hasClassName("form-sub-label")&&(f=a.innerHTML);var l,c;if(l=e.previous(".qq-uploader-buttonText-value"))c=l.innerHTML;c||(c="Upload a File");var h=new qq.FileUploader({debug:JotForm.debug,element:t,action:JotForm.server,subLabel:f,buttonText:c,sizeLimit:parseInt(e.readAttribute("file-maxsize"),10)*1024,allowedExtensions:u,onComplete:function(e,n,r){if(r.success){t.value="uploaded";JotForm.corrected(t)}},showMessage:function(e){JotForm.errored(t,e);setTimeout(function(){},3e3)},params:{action:"multipleUpload",field:e.name.replace("[]",""),folder:i}})})},hiddenSubmit:function(e){JotForm.currentSection&&JotForm.currentSection.select(".form-pagebreak")[0].insert((new Element("div",{className:"form-saving-indicator"})).setStyle("float:right;padding:21px 12px 10px").update('<img src="'+JotForm.url+'images/ajax-loader.gif" align="absmiddle" /> Saving...'));setTimeout(function(){JotForm.saving=!0},10);if(!$("hidden_submit_form")){var t=(new Element("iframe",{name:"hidden_submit",id:"hidden_submit_form"})).hide();t.observe("load",function(){JotForm.makeUploadChecks();$$(".form-saving-indicator").invoke("remove");JotForm.saving=!1});$(document.body).insert(t)}$("current_page").value=JotForm.currentSection.pagesIndex;e.writeAttribute("target","hidden_submit");e.insert({top:(new Element("input",{type:"hidden",name:"hidden_submission",id:"hidden_submission"})).putValue("1")});e.submit();e.writeAttribute("target","");$("hidden_submission").remove()},makeUploadChecks:function(){var e=$$('input[name="formID"]')[0],t=new Ajax.Jsonp(JotForm.url+"server.php",{parameters:{action:"getSavedUploadResults",formID:e.value,sessionID:document.get.session},evalJSON:"force",onComplete:function(t){console.log(n);var n=t.responseJSON;if(n.success){n.submissionID&&!$("submission_id")&&e.insert({after:(new Element("input",{type:"hidden",name:"submission_id",id:"submission_id"})).putValue(n.submissionID)});JotForm.editMode(n,!0)}}})},handleSavedForm:function(){if(!("session"in document.get))return;JotForm.saveForm=!0;var e=$$('input[name="formID"]')[0];e.insert({after:(new Element("input",{type:"hidden",name:"session_id",id:"session"})).putValue(document.get.session)});e.insert({after:(new Element("input",{type:"hidden",id:"current_page",name:"current_page"})).putValue(0)});var t=new Ajax.Jsonp(JotForm.url+"server.php",{parameters:{action:"getSavedSubmissionResults",formID:e.value,sessionID:document.get.session},evalJSON:"force",onComplete:function(t){var n=t.responseJSON;if(n.success){n.submissionID&&e.insert({after:(new Element("input",{type:"hidden",name:"submission_id",id:"submission_id"})).putValue(n.submissionID)});try{JotForm.editMode(n)}catch(r){console.error(r)}JotForm.openInitially=n.currentPage-1}}})},setTitle:function(){if(document.title=="Form"){var e;if(e=$$(".form-header")[0])try{document.title=e.innerHTML.stripTags().strip();document.title=document.title.unescapeHTML()}catch(t){document.title=e.innerHTML}}},setFocusEvents:function(){$$(".form-radio, .form-checkbox").each(function(e){e.observe("mousedown",function(){JotForm.lastFocus=e})});$$(".form-textbox, .form-password, .form-textarea, .form-upload, .form-dropdown").each(function(e){e.observe("focus",function(){JotForm.lastFocus=e})})},disableAcceptonChrome:function(){if(!Prototype.Browser.WebKit)return;$$(".form-upload").each(function(e){if(e.hasAttribute("accept")){var t=e.readAttribute("accept");e.writeAttribute("accept","");e.writeAttribute("file-accept",t)}})},displayLocalTime:function(e,t,n){if($(e)&&!$(e).hasClassName("noDefault")){var r=new Date,i=r.getHours(),s="",o=!0;if($(n)){o=!1;s=i>11?"PM":"AM";i=i>12?i-12:i;i=i==0?12:i}var u=r.getMinutes(),a=Number($(t).options[2].value)-Number($(t).options[1].value);u=Math.round(u/a)*a;u=this.addZeros(u,2);if(u>=60){u="00";i++;o?i==24&&(i=0):s=="AM"&&i==12?s="PM":s=="PM"&&i==12?s="AM":i==13&&(i=1)}$(e).value=i;$(t).value=u;if($(e+"Range")){$(e+"Range").value=i;$(t+"Range").value=u}if(s=="PM"){$(n).value="PM";$(n+"Range")&&($(n+"Range").value="PM")}}},setCalendar:function(e){try{var t=Calendar.setup({triggerElement:"input_"+e+"_pick",dateField:"year_"+e,closeHandler:JotForm.calendarClose,selectHandler:JotForm.formatDate});$("id_"+e).observe("keyup",function(){$("id_"+e).fire("date:changed")});$("day_"+e).hasClassName("noDefault")||JotForm.formatDate({date:new Date,dateField:$("id_"+e)});var n=function(){if(document.createEvent){var e=this;setTimeout(function(){t.showAtElement(e)},50)}};if($("input_"+e+"_pick").hasClassName("showAutoCalendar")){$("day_"+e).observe("focus",n);$("month_"+e).observe("focus",n);$("year_"+e).observe("focus",n)}$("day_"+e).observe("blur",function(){JotForm.calendarClose(t)});$("month_"+e).observe("blur",function(){JotForm.calendarClose(t)});$("year_"+e).observe("blur",function(){JotForm.calendarClose(t)})}catch(r){JotForm.error(r)}},calendarClose:function(e){if(e.dateField.className.include("validate[required]")){if(document.createEvent){var t=document.createEvent("HTMLEvents");t.initEvent("change",!0,!0);e.dateField.dispatchEvent(t)}this.fireEvent&&e.dateField.fireEvent("onchange")}e.hide()},getDefaults:function(){$$(".form-textbox, .form-dropdown, .form-textarea").each(function(e){if(e.hinted||e.value==="")return;JotForm.defaultValues[e.id]=e.value});$$(".form-radio, .form-checkbox").each(function(e){if(!e.checked)return;JotForm.defaultValues[e.id]=e.value})},handleOtherOptions:function(){$$(".form-radio-other-input, .form-checkbox-other-input").each(function(e){e.disable().hint("Other")});$$(".form-radio, .form-checkbox").each(function(e){var t=e.id.replace(/input_(\d+)_\d+/gim,"$1");t.match("other_")&&(t=e.id.replace(/other_(\d+)/,"$1"));if($("other_"+t)){var n=$("other_"+t),r=$("input_"+t),i=e.type=="radio"?e:n;e.type=="checkbox"&&r.observe("keyup",function(){n.value=r.value});i.observe("click",function(){if(n.checked){r.enable();r.select()}else{r.hintClear&&r.hintClear();r.disable()}})}})},handleDateTimeChecks:function(){$$("[name$=[month]]").each(function(e){var t=e.id.split("month_").last(),n=$("id_"+t);if(!n)return;var r=n.select("#day_"+t).first(),i=n.select("#year_"+t).first(),s=n.select("#hour_"+t).first(),o=n.select("#min_"+t).first(),u=n.select("#ampm_"+t).first(),a=function(){var t=null;if(e.value!=""||r.value!=""||i.value!=""){var a=+e.value,f=+r.value,l=+i.value;if(isNaN(l)||l<0)t=i;else if(isNaN(a)||a<1||a>12)t=e;else if(isNaN(f)||f<1)t=r;else switch(a){case 2:if(l%4==0?f>29:f>28)t=r;break;case 4:case 6:case 9:case 11:f>30&&(t=r);break;default:f>31&&(t=r)}}if(!t&&s&&o&&(s.value!=""||o.value!="")){var c=s.value.strip()==""?-1:+s.value,h=o.value.strip()==""?-1:+o.value;if(isNaN(c)||(u?c<0||c>12:c<0||c>23))t=s;else if(isNaN(h)||h<0||h>59)t=o}if(t){if(t===s||t===o){t.errored=!1;JotForm.errored(t,"Enter a valid time")}else{t.errored=!1;JotForm.errored(t,"Enter a valid date")}n.addClassName("form-line-error");n.addClassName("form-datetime-validation-error")}else{JotForm.corrected(e);JotForm.corrected(r);JotForm.corrected(i);if(s&&o){JotForm.corrected(s);JotForm.corrected(o)}n.removeClassName("form-line-error");n.removeClassName("form-datetime-validation-error")}};e.observe("change",a);r.observe("change",a);i.observe("change",a);if(s&&o){s.observe("change",a);o.observe("change",a)}})},handleTextareaLimits:function(){$$(".form-textarea-limit-indicator span").each(function(e){var t=e.id.split("-")[0];if(!$(t))return;var n=e.readAttribute("type"),r=e.readAttribute("limit"),i=$(t),s;i.observe("change",function(t){n=="Words"?s=$A(i.value.split(/\s+/)).without("").length:n=="Letters"&&(s=i.value.length);s>r?$(e.parentNode).addClassName("form-textarea-limit-indicator-error"):$(e.parentNode).removeClassName("form-textarea-limit-indicator-error");e.update(s+"/"+r)});i.run("keyup");i.observe("keyup",function(t){n=="Words"?s=$A(i.value.split(/\s+/)).without("").length:n=="Letters"&&(s=i.value.length);s>r?$(e.parentNode).addClassName("form-textarea-limit-indicator-error"):$(e.parentNode).removeClassName("form-textarea-limit-indicator-error");e.update(s+"/"+r)});i.run("keyup")})},handleAutoCompletes:function(){$H(JotForm.autoCompletes).each(function(e){var t=$(e.key);t.writeAttribute("autocomplete","off");var n=$(t.parentNode),r=$A(e.value.split("|")),i,s=0,o=0,u=(new Element("div",{className:"form-autocomplete-list"})).setStyle({listStyle:"none",listStylePosition:"outside",position:"absolute",zIndex:"10000"}).hide(),a=function(){var e=t.getDimensions(),n=t.cumulativeOffset();u.setStyle({top:e.height+n[1]+"px",left:n[0]+"px",width:(e.width<1?100:e.width)-2+"px"});u.show()};$(document.body).insert(u);u.close=function(){u.update();u.hide();s=0};t.observe("blur",function(){u.close()});t.observe("keyup",function(e){var n=t.value;if(i==n)return;i=n;u.update();if(!n){u.close();return}var s=r.collect(function(e){if(e.toLowerCase().include(n.toLowerCase()))return e}).compact();if(s.length>0){s.each(function(e){var r=new Element("li",{className:"form-autocomplete-list-item"}),i=e;r.val=i;try{i=e.replace(new RegExp("("+n+")","gim"),"<b>$1</b>")}catch(s){JotForm.error(s)}r.insert(i);r.onmousedown=function(){t.value=e;u.close()};u.insert(r)});a();o=o||$(u.firstChild).getHeight()+(parseInt($(u.firstChild).getStyle("padding"),10)||0)+(parseInt($(u.firstChild).getStyle("margin"),10)||0);u.setStyle({height:o*(s.length>9?10:s.length)+4+"px",overflow:"auto"})}else u.close()});t.observe("keydown",function(e){var n;if(!u.visible()||!u.firstChild)return;n=u.select(".form-autocomplete-list-item-selected")[0];n&&n.removeClassName("form-autocomplete-list-item-selected");switch(e.keyCode){case Event.KEY_UP:n&&n.previousSibling?$(n.previousSibling).addClassName("form-autocomplete-list-item-selected"):$(u.lastChild).addClassName("form-autocomplete-list-item-selected");if(s<=1)if(n&&n.previousSibling){$(n.previousSibling).scrollIntoView(!0);s=0}else{$(u.lastChild).scrollIntoView(!1);s=10}else s--;break;case Event.KEY_DOWN:n&&n.nextSibling?$(n.nextSibling).addClassName("form-autocomplete-list-item-selected"):$(u.firstChild).addClassName("form-autocomplete-list-item-selected");if(s>=9)if(n&&n.nextSibling){$(n.nextSibling).scrollIntoView(!1);s=10}else{$(u.firstChild).scrollIntoView(!0);s=0}else s++;break;case Event.KEY_ESC:u.close();break;case Event.KEY_TAB:case Event.KEY_RETURN:if(n){t.value=n.val;i=t.value}u.close();e.keyCode==Event.KEY_RETURN&&e.stop();break;default:return}})})},getFileExtension:function(e){return/[.]/.exec(e)?/[^.]+$/.exec(e)[0]:undefined},prePopulations:function(){Element.prototype.triggerEvent=function(e){if(document.createEvent){var t=document.createEvent("HTMLEvents");t.initEvent(e,!0,!0);return this.dispatchEvent(t)}if(this.fireEvent)return this.fireEvent("on"+e)};$H(document.get).each(function(e){if(e.key.length<3)return;var t='[name*="_'+e.key+'"]',n=$$(".form-textbox%s, .form-dropdown%s, .form-textarea%s, .form-hidden%s".replace(/\%s/gim,t))[0];if(n){n.value=e.value.replace(/\+/g," ");JotForm.defaultValues[n.id]=n.value}$$(".form-textbox%s, .form-textarea%s, .form-hidden%s".replace(/\%s/gim,t)).each(function(e){e.triggerEvent("keyup")});$$(".form-dropdown%s".replace(/\%s/gim,t)).each(function(e){e.triggerEvent("change")});$$(".form-checkbox%s, .form-radio%s".replace(/\%s/gim,t)).each(function(t){$A(e.value.split(",")).include(t.value)&&t.click()})})},resetForm:function(e){var t=$(e).select('input[type="hidden"]');t.each(function(e){e.__defaultValue=e.value});$(e).reset();t.each(function(e){e.value=e.__defaultValue});return e},editMode:function(e,t,n){n=n||[];var r=function(e){t||$A(JotForm.forms).each(function(e){JotForm.resetForm(e)});$H(e.result).each(function(e){var t=e.key,r=e.value;try{if($A(n).include(r.type))return!0;switch(r.type){case"control_fileupload":if($("input_"+t)&&$("input_"+t).uploadMarked==r.value)break;setTimeout(function(){if($$("#id_"+t+" .qq-upload-list")[0]){var e=r.value,n,i;e=e.replace(/<a/g,'<li class=" qq-upload-success"><span class="qq-upload-file"><a');e=e.replace(/<\/a>/g,'</a></span><span class="qq-upload-delete">X</span></li>');e=e.replace(/<br>/g,"");$$("#id_"+t+" ul.qq-upload-list")[0].update(e);setTimeout(function(){var e=$$("#id_"+t+" ul.qq-upload-list li span.qq-upload-delete");e&&e.each(function(e){e.observe("click",function(){this.up().hide();var e=this.up().select("a")[0].text;e||(e=this.up().select("a")[0].innerText);$("uploadedBefores_"+t).value=$("uploadedBefores_"+t).value.replace(e,"");$("uploadedBefores_"+t).value||($("uploadedBefores_"+t).value=",")})})},200);n=$$("#id_"+t+" ul.qq-upload-list li a");i="";if(n){n.each(function(e){e.text?i+=e.text+",":e.innerText?i+=e.innerText+",":e.up("li.qq-upload-success").hide()});i=i.substring(0,i.length-1)}$("cid_"+t).insert({after:(new Element("input",{id:"uploadedBefores_"+t,type:"hidden",name:"uploadedBefore"+t})).putValue(i)})}else{$$("#clip_"+t+", #link_"+t+", #old_"+t).invoke("remove");$("input_"+t).uploadMarked=r.value;$("input_"+t).resetUpload();var s=r.value.split("/"),o=s[s.length-1],u=JotForm.getFileExtension(o);if(u!==undefined&&JotForm.imageFiles.include(u.toLowerCase())){var a=(new Element("div",{id:"clip_"+t})).setStyle({height:"50px",width:"50px",overflow:"hidden",marginRight:"5px",border:"1px solid #ccc",background:"#fff",cssFloat:"left"}),f=new Element("img",{src:r.value,width:50});a.insert(f);$("input_"+t).insert({before:a})}var l=new Element("div",{id:"link_"+t});$("input_"+t).insert({after:l.insert((new Element("a",{href:r.value,target:"_blank"})).insert(o.shorten(40)))});$("input_"+t).insert({after:(new Element("input",{type:"hidden",name:"input_"+t+"_old",id:"old_"+t})).putValue(r.items)})}},200);break;case"control_scale":case"control_radio":if(r.name==undefined)var i=$$("#id_"+t+' input[type="radio"]');else var i=document.getElementsByName("q"+t+"_"+(r.type=="control_radio"||r.type=="control_scale"?r.name:t));$A(i).each(function(e){e.value==r.value&&(e.checked=!0)});break;case"control_checkbox":var s=$$("#id_"+t+' input[type="checkbox"]');$A(s).each(function(e){r.items.include(e.value)&&(e.checked=!0)});break;case"control_rating":$("input_"+t)&&$("input_"+t).setRating(r.value);break;case"control_grading":var o=arguments[0][1],u=arguments[0][0];if(!o.isEmpty){var a=0;$A(o.items).each(function(e,t){var n=document.getElementById("input_"+u+"_"+t);n.putValue(e);a+=parseInt(e)});var f=document.getElementById("grade_point_"+u);f.update(a)}break;case"control_slider":$("input_"+t).setSliderValue(r.value);break;case"control_range":$("input_"+t+"_from").putValue(r.items.from);$("input_"+t+"_to").putValue(r.items.to);break;case"control_matrix":var l,c=!1;if(!Object.isArray(r.items)){l=$H(r.items);c=!0}else l=$A(r.items);if(r.name==undefined){var h=$$("#id_"+t+" input")[0]||$$("#id_"+t+" select")[0],p=h.name,d=p.indexOf("_")+1,v=p.indexOf("[")-d;r.name=p.substr(d,v)}l.each(function(e,n){if(c){n=e.key;e=e.value}if(Object.isString(e)){var i=document.getElementsByName("q"+t+"_"+r.name+"["+n+"]");$A(i).each(function(t){t.value==e&&(t.checked=!0)})}else $A(e).each(function(e,i){var s=document.getElementsByName("q"+t+"_"+r.name+"["+n+"][]");s[i].className=="form-checkbox"?$A(s).each(function(t){t.value==e&&(t.checked=!0)}):s[i].value=e})});break;case"control_datetime":case"control_fullname":$H(r.items).each(function(e){$(e.key+"_"+t)&&($(e.key+"_"+t).value=e.value)});break;case"control_phone":case"control_birthdate":case"control_address":case"control_time":$H(r.items).each(function(e){$("input_"+t+"_"+e.key)&&$("input_"+t+"_"+e.key).putValue(e.value)});break;case"control_autoincrement":case"control_hidden":if($("input_"+t))if(JotForm.saveForm||document.get.mode=="edit")$("input_"+t).putValue(r.value);else{var m=$$(".form-section")[0];$$('.form-section li[title="Hidden Field"]')[0];var g=$$('.form-section li[title="Hidden Field"]'),y='<li id="id_'+t+'" class="form-line" title="Hidden Field">'+'<label for="input_'+t+'" id="label_'+t+'" class="form-label-left"> '+r.text+" </label>"+'<div class="form-input" id="cid_'+t+'"></div></li>';g.size()>0?g.last().insert({after:y}):m.insert({top:y});$("cid_"+t).insert($("input_"+t).putValue(r.value));var b=$("input_"+t);b.replace('<input type="text" id="'+b.id+'" name="'+b.name+'" value="'+b.value+'">');$("input_"+t).setStyle({opacity:.9,border:"1px dashed #999",padding:"3px"})}break;case"control_payment":case"control_stripe":case"control_paypal":case"control_paypalpro":case"control_clickbank":case"control_2co":case"control_worldpay":case"control_googleco":case"control_onebip":case"control_authnet":$H(r.items).each(function(e){if(e.key=="price")$("input_"+t+"_donation").value=e.value;else if("pid"in e.value&&$("input_"+t+"_"+e.value.pid)){$("input_"+t+"_"+e.value.pid).checked=!0;"options"in e.value&&$A(e.value.options).each(function(n,r){$("input_"+t+"_"+n.type+"_"+e.value.pid+"_"+r)&&($("input_"+t+"_"+n.type+"_"+e.value.pid+"_"+r).value=n.selected)})}});break;case"control_email":var w=$("input_"+t);if(w){w.putValue(r.value);w=$("input_"+t+"_confirm");w&&w.putValue(r.value)}break;default:$("input_"+t)&&$("input_"+t).putValue(r.value)}}catch(E){}});$H(JotForm.fieldConditions).each(function(e){var t=e.key,n=e.value.event;if(!$(t))return;$(t).run(n)})};if(e)r(e);else var i=new Ajax.Request("server.php",{parameters:{action:"getSubmissionResults",formID:document.get.sid},evalJSON:"force",onComplete:function(e){var t=e.responseJSON;if(t.success){r(t);$$('input[name="formID"]')[0].insert({after:(new Element("input",{type:"hidden",name:"editSubmission"})).putValue(document.get.sid)});(document.get.mode=="inlineEdit"||document.get.mode=="submissionToPDF")&&$$('input[name="formID"]')[0].insert({after:(new Element("input",{type:"hidden",name:"inlineEdit"})).putValue("yes")});JotForm.getContainer($$(".form-captcha")[0]).hide();if(document.get.mode=="submissionToPDF"){$$(".form-section").each(function(e){e.setStyle({display:"inline"})});$$(".form-section-closed").each(function(e){e.setStyle({height:"auto"})});var n=new Ajax.Request("server.php",{parameters:{action:"getSetting",identifier:"form",key:"columnSetting"},evalJSON:"force",onComplete:function(e){var n=e.responseJSON.value,r=$H();n.each(function(e){isNaN(parseInt(e))||(r["id_"+e]=!0)});var i=n.indexOf("autoHide")>-1,s=n.indexOf("showNonInputs")>-1,o=$$(".jotform-form")[0];n.indexOf("showIP")>-1&&o.insert({top:(new Element("div")).update("IP: ")});n.indexOf("created_at")==-1&&o.insert({top:(new Element("div")).update("Submission Date: "+t.result.created_at.value)});n.indexOf("id")==-1&&o.insert({top:(new Element("div")).update("Submission ID: "+document.get.sid)});$$(".form-line").each(function(e){r(e.id)?e.setStyle({display:"none"}):e.setStyle({display:""})})}.bind(this)})}}}.bind(this)})},setConditions:function(e){JotForm.conditions=e;e.each(function(e){e.action=[].concat(e.action)})},showField:function(e){var t=null,n=$("id_"+e),r=$("cid_"+e),i=$("section_"+e);i&&r?t=i:r&&!n?t=r:t=n;if(!t)return t;t.removeClassName("form-field-hidden");if(i)if(t.hasClassName("form-section-closed"))if(t.select(".form-collapse-table")[0].hasClassName("form-collapse-hidden")){t.removeClassName("form-section-closed");t.addClassName("form-section");t.setStyle({height:"auto",overflow:"hidden"})}else t.setStyle({overflow:"hidden"});else t.setStyle({height:"auto",overflow:"hidden"});return t.show()},hideField:function(e){var t="id_";$("cid_"+e)&&!$("id_"+e)&&(t="cid_");$("cid_"+e)&&$("section_"+e)&&(t="section_");var n=$(t+e);if(n){n.addClassName("form-field-hidden");return n.hide()}},checkValueByOperator:function(e,t,n){var r=Object.isBoolean(n)?n:n.toString().strip(),i=Object.isBoolean(t)?t:t.toString().strip();switch(e){case"equals":case"equalDate":return r==i;case"notEquals"
:case"notEqualDate":return r!=i;case"endsWith":return r.endsWith(i);case"startsWith":return r.startsWith(i);case"contains":return r.include(i);case"notContains":return!r.include(i);case"greaterThan":return(parseInt(r,10)||0)>(parseInt(i,10)||0);case"lessThan":return r.length?(parseInt(r,10)||0)<(parseInt(i,10)||0):!1;case"isEmpty":if(Object.isBoolean(r))return!r;return r.empty();case"isFilled":if(Object.isBoolean(r))return r;return!r.empty();case"before":return n<t;case"after":return n>t;default:JotForm.error("Could not find this operator",e)}return!1},typeCache:{},getInputType:function(e){if(JotForm.typeCache[e])return JotForm.typeCache[e];var t=!1;if($("input_"+e)){t=$("input_"+e).nodeName.toLowerCase()=="input"?$("input_"+e).readAttribute("type").toLowerCase():$("input_"+e).nodeName.toLowerCase();$("input_"+e).hasClassName("form-radio-other-input")&&(t="radio");$("input_"+e).hasClassName("form-checkbox-other-input")&&(t="checkbox");$("input_"+e).hasClassName("form-autocomplete")&&(t="autocomplete")}else if($("input_"+e+"_pick"))t="datetime";else if($("input_"+e+"_month"))t="birthdate";else if($("input_"+e+"_hourSelect"))t="time";else if($$("#id_"+e+" input")[0]){t=$$("#id_"+e+" input")[0].readAttribute("type").toLowerCase();t=="text"&&(t="combined")}JotForm.typeCache[e]=t;return t},strToDate:function(e){var t=new Date(undefined),n=/(\d{4})\-(\d{2})-(\d{2})T?(\d{2})?\:?(\d{2})?/gim;if(e.empty())return t;if(!n.test(e))return t;var r=new Date;e.replace(n,function(e,t,n,i,s,o){r.setYear(parseInt(t,10));r.setMonth(parseInt(n,10)-1);r.setDate(parseInt(i,10));if(s){r.setHours(parseInt(s,10));r.setMinutes(parseInt(o,10))}return e});return r},getBirthDate:function(e){var t=$("input_"+e+"_day").getValue()||"%empty%",n=$("input_"+e+"_month").selectedIndex||"%empty%";n=String(n);var r=$("input_"+e+"_year").getValue()||"%empty%",i=r+"-"+(n.length==1?"0"+n:n)+"-"+(t.length==1?"0"+t:t);return i.include("%empty%")?"":i},get24HourTime:function(e){var t=$("input_"+e+"_hourSelect").getValue();if(t=="")return"";var n=$("input_"+e+"_minuteSelect").getValue();n.length==0&&(n="00");var r=$("input_"+e+"_ampm")?$("input_"+e+"_ampm").getValue():"";t=Number(t);r=="PM"&&t!=12?t+=12:r=="AM"&&t==12&&(t=0);t=t<10?"0"+t:String(t);return t+n},getDateValue:function(e){var t="";$("year_"+e)&&(t+=$("year_"+e).value||"%empty%");$("month_"+e)&&(t+="-"+($("month_"+e).value||"%empty%"));$("day_"+e)&&(t+="-"+($("day_"+e).value||"%empty%"));if(t.include("%empty%")){JotForm.info("Wrong date: "+t);return""}var n="";if($("ampm_"+e)){if($("hour_"+e)){n=$("hour_"+e).value;$("ampm_"+e).value=="pm"&&(n=parseInt(n,10)+12);n=="24"&&(n=0);t+="T"+((n.length==1?"0"+n:n)||"00")}}else if($("hour_"+e)){n=$("hour_"+e).value;t+="T"+((n.length==1?"0"+n:n)||"00")}$("min_"+e)&&(t+=":"+($("min_"+e).value||"00"));n===""&&(t+="T00:00");return t},checkCondition:function(e){var t=!1,n=!0,r;$A(e.terms).each(function(e){var i;try{switch(JotForm.getInputType(e.field)){case"combined":if(["isEmpty","isFilled"].include(e.operator)){r=$$("#id_"+e.field+" input").collect(function(e){return e.value}).any();JotForm.checkValueByOperator(e.operator,e.value,r)?t=!0:n=!1;return}break;case"birthdate":case"datetime":i=JotForm.getInputType(e.field)=="datetime"?JotForm.getDateValue(e.field):JotForm.getBirthDate(e.field);if(i===undefined)return;["isEmpty","isFilled"].include(e.operator)?JotForm.checkValueByOperator(e.operator,e.value,i)?t=!0:n=!1:["equalDate","notEqualDate"].include(e.operator)?JotForm.checkValueByOperator(e.operator,JotForm.strToDate(e.value),JotForm.strToDate(i.split("T")[0]))?t=!0:n=!1:JotForm.checkValueByOperator(e.operator,JotForm.strToDate(e.value),JotForm.strToDate(i))?t=!0:n=!1;break;case"time":i=JotForm.get24HourTime(e.field);var s=e.value?e.value.replace(/:/,""):"";s.length==3&&(s="0"+s);JotForm.checkValueByOperator(e.operator,s,i)?t=!0:n=!1;break;case"checkbox":case"radio":if(["isEmpty","isFilled"].include(e.operator)){r=$$("#id_"+e.field+" input").collect(function(e){return e.checked}).any();JotForm.checkValueByOperator(e.operator,e.value,r)?t=!0:n=!1;return}$$("#id_"+e.field+" input").each(function(r){var i=r.checked?r.value:"";if(JotForm.checkValueByOperator(e.operator,e.value,i))t=!0;else{if(e.operator=="notEquals"&&e.value==i){t=!1;n=!1;throw $break}r.value==e.value&&(n=!1)}});break;case"tel":function o(r){i=$("input_"+e.field+r).value;$("input_"+e.field+r).hinted&&(i="");if(i===undefined)return;JotForm.checkValueByOperator(e.operator,e.value,i)?t=!0:n=!1}o("_area");o("_phone");break;default:i=$("input_"+e.field).value;$("input_"+e.field).hinted&&(i="");if(i===undefined)return;JotForm.checkValueByOperator(e.operator,e.value,i)?t=!0:n=!1}}catch(u){JotForm.error(u)}});if(e.type=="field"){var i=e.link.toLowerCase()=="any"&&t||e.link.toLowerCase()=="all"&&n;e.action.each(function(e){i?e.visibility.toLowerCase()=="show"?JotForm.showField(e.field):JotForm.hideField(e.field):e.visibility.toLowerCase()=="show"?JotForm.hideField(e.field):JotForm.showField(e.field)})}else{JotForm.log("any: %s, all: %s, link: %s",t,n,e.link.toLowerCase());if(JotForm.nextPage)return;if(e.link.toLowerCase()=="any"&&t||e.link.toLowerCase()=="all"&&n){var s=e.action[0];JotForm.info("Correct: Skip To: "+s.skipTo);var o=$$(".form-section:not([id^=section_])");s.skipTo=="end"?JotForm.nextPage=o[o.length-1]:JotForm.nextPage=o[parseInt(s.skipTo.replace("page-",""),10)-1]}else{JotForm.info("Fail: Skip To: page-"+JotForm.currentPage+1);JotForm.nextPage=!1}}},currentPage:!1,nextPage:!1,previousPage:!1,fieldConditions:{},setFieldConditions:function(e,t,n){JotForm.fieldConditions[e]||(JotForm.fieldConditions[e]={event:t,conditions:[]});JotForm.fieldConditions[e].conditions.push(n)},setConditionEvents:function(){try{$A(JotForm.conditions).each(function(e){e.type=="field"?$A(e.terms).each(function(t){var n=t.field;switch(JotForm.getInputType(n)){case"combined":JotForm.setFieldConditions("id_"+n,"keyup",e);break;case"datetime":JotForm.setFieldConditions("id_"+n,"date:changed",e);break;case"birthdate":JotForm.setFieldConditions("input_"+n+"_day","change",e);JotForm.setFieldConditions("input_"+n+"_month","change",e);JotForm.setFieldConditions("input_"+n+"_year","change",e);break;case"time":JotForm.setFieldConditions("input_"+n+"_hourSelect","change",e);JotForm.setFieldConditions("input_"+n+"_minuteSelect","change",e);JotForm.setFieldConditions("input_"+n+"_ampm","change",e);case"select":case"file":JotForm.setFieldConditions("input_"+n,"change",e);break;case"checkbox":case"radio":JotForm.setFieldConditions("id_"+n,"click",e);break;case"tel":JotForm.setFieldConditions("input_"+n+"_area","keyup",e);JotForm.setFieldConditions("input_"+n+"_phone","keyup",e);break;case"number":JotForm.setFieldConditions("input_"+n,"number",e);break;case"autocomplete":JotForm.setFieldConditions("input_"+n,"autocomplete",e);break;default:JotForm.setFieldConditions("input_"+n,"keyup",e)}}):$A(e.terms).each(function(t){var n=t.field,r=JotForm.getSection($("id_"+n)).select(".form-pagebreak-next")[0];if(!r)return;r.observe("mousedown",function(){JotForm.checkCondition(e)})})});$H(JotForm.fieldConditions).each(function(e){var t=e.key,n=e.value.event,r=e.value.conditions;if(!$(t))return;if(n=="autocomplete"){$(t).observe("blur",function(){$A(r).each(function(e){JotForm.checkCondition(e)})}).run("blur");$(t).observe("keyup",function(){$A(r).each(function(e){JotForm.checkCondition(e)})}).run("keyup")}else if(n=="number"){$(t).observe("change",function(){$A(r).each(function(e){JotForm.checkCondition(e)})}).run("change");$(t).observe("keyup",function(){$A(r).each(function(e){JotForm.checkCondition(e)})}).run("keyup")}else $(t).observe(n,function(){$A(r).each(function(e){var n=t.replace(/[^0-9]/gim,"");JotForm.checkCondition(e)})}).run(n)})}catch(e){JotForm.error(e)}},countTotal:function(e){var t=0;$H(e).each(function(e){t=parseFloat(t);var n=parseFloat(e.value.price);if($(e.value.specialPriceField)){var r=$(e.value.specialPriceField),i=r.selectedIndex,s=r.options;n=parseFloat(e.value.specialPriceList[s[i].index]);$(e.key+"_price").update(parseFloat(n).toFixed(2))}if($(e.key).checked){if($(e.value.quantityField)||$(e.value.specialPriceField)){$(e.value.quantityField)&&e.value.specialPriceField!==e.value.quantityField&&($(e.value.quantityField).readAttribute("type")=="text"?n=$(e.value.quantityField).value?n*Math.abs(parseInt($(e.value.quantityField).value,10)):0:n*=parseInt($(e.value.quantityField).getSelected().text,10));$(e.key+"_subtotal")&&!isNaN(n)&&$(e.key+"_subtotal").update(parseFloat(n).toFixed(2))}t+=n}else($(e.key+"_subtotal")||isNaN(n))&&$(e.key+"_subtotal").update("0.00")});if(t===0||isNaN(t))t="0.00";$("payment_total")&&$("payment_total").update(parseFloat(t).toFixed(2))},totalCounter:function(e){document.observe("dom:loaded",JotForm.countTotal(e));$H(e).each(function(t){$(t.key).observe("click",function(){JotForm.countTotal(e)});if($(t.value.quantityField)){function n(){if(JotForm.isVisible($(t.value.quantityField))){$(t.key).checked=$(t.value.quantityField).value<=0?!1:!0;JotForm.countTotal(e)}}$(t.value.quantityField).observe("change",function(){setTimeout(n,50)});$(t.value.quantityField).observe("keyup",function(){setTimeout(n,50)})}if($(t.value.specialPriceField)){function r(){if(JotForm.isVisible($(t.value.specialPriceField))){$(t.key).checked=!0;JotForm.countTotal(e)}}$(t.value.specialPriceField).observe("change",function(){setTimeout(r,50)});$(t.value.specialPriceField).observe("keyup",function(){setTimeout(r,50)})}})},initCaptcha:function(e){setTimeout(function(){var t=new Ajax.Jsonp(JotForm.server,{parameters:{action:"getCaptchaId"},evalJSON:"force",onComplete:function(t){t=t.responseJSON||t;if(t.success){$(e+"_captcha").src=JotForm.url+"server.php?action=getCaptchaImg&code="+t.num;$(e+"_captcha_id").value=t.num}}})},150)},reloadCaptcha:function(e){$(e+"_captcha").src=JotForm.url+"images/blank.gif";JotForm.initCaptcha(e)},addZeros:function(e,t){e=e.toString();var n="";if(t>e.length)for(i=0;i<t-e.length;i++)n+="0";return n+e.toString()},formatDate:function(e){var t=e.date,n=JotForm.addZeros(t.getMonth()+1,2),r=JotForm.addZeros(t.getDate(),2),i=t.getYear()<1e3?t.getYear()+1900:t.getYear(),s=e.dateField.id.replace(/\w+\_/gim,"");$("month_"+s).value=n;$("day_"+s).value=r;$("year_"+s).value=i;$("id_"+s).fire("date:changed")},highLightLines:function(){$$(".form-line").each(function(e,t){e.select("input, select, textarea, div, table div, button").each(function(t){t.observe("focus",function(){JotForm.isCollapsed(e)&&JotForm.getCollapseBar(e).run("click");if(!JotForm.highlightInputs)return;e.addClassName("form-line-active");e.__classAdded&&(e.__classAdded=!1)}).observe("blur",function(){if(!JotForm.highlightInputs)return;e.removeClassName("form-line-active")})})})},getForm:function(e){e=$(e);return e.parentNode?e&&e.tagName=="BODY"?!1:e.tagName=="FORM"?$(e):JotForm.getForm(e.parentNode):!1},getContainer:function(e){e=$(e);return e.parentNode?e&&e.tagName=="BODY"?!1:e.hasClassName("form-line")?$(e):JotForm.getContainer(e.parentNode):!1},getSection:function(e){e=$(e);return e.parentNode?e&&e.tagName=="BODY"?!1:(e.hasClassName("form-section-closed")||e.hasClassName("form-section"))&&!e.id.match(/^section_/)?e:JotForm.getSection(e.parentNode):!1},getCollapseBar:function(e){e=$(e);return e.parentNode?e&&e.tagName=="BODY"?!1:e.hasClassName("form-section-closed")||e.hasClassName("form-section")?e.select(".form-collapse-table")[0]:JotForm.getCollapseBar(e.parentNode):!1},isCollapsed:function(e){e=$(e);return e.parentNode?e&&e.tagName=="BODY"?!1:e.className=="form-section-closed"?!0:JotForm.isCollapsed(e.parentNode):!1},isVisible:function(e){e=$(e);return e.parentNode?e&&e.tagName=="BODY"?!0:e.style.display=="none"||e.style.visibility=="hidden"?!1:JotForm.isVisible(e.parentNode):!1},enableDisableButtonsInMultiForms:function(){var e=$$(".form-submit-button");e.each(function(e){e.up("ul.form-section")&&(e.up("ul.form-section").style.display=="none"?e.disable():e.className.indexOf("disabled")==-1&&e.enable())})},enableButtons:function(){setTimeout(function(){$$(".form-submit-button").each(function(e){e.enable();e.innerHTML=e.oldText})},60)},setButtonActions:function(){$$(".form-submit-button").each(function(e){e.oldText=e.innerHTML;e.enable();e.observe("click",function(){setTimeout(function(){if(!$$(".form-error-message")[0]&&!$$(".form-textarea-limit-indicator-error")[0]){var e=$$(".form-submit-button");e.each(function(e){e.innerHTML=JotForm.texts.pleaseWait;e.addClassName("lastDisabled");e.disable()})}},50)})});$$(".form-submit-reset").each(function(e){e.onclick=function(){if(!confirm(JotForm.texts.confirmClearForm))return!1;$$(".form-line-error").each(function(e){e.removeClassName("form-line-error")});$$(".form-error-message",".form-button-error").each(function(e){e.remove()});$$(".form-textarea-limit-indicator > span").each(function(e){var t=e.innerHTML;e.innerHTML=t.replace(t.substring(0,t.indexOf("/")),"0")});$$("span[id^=grade_point_]").each(function(e){e.innerHTML=0});$$(".form-grading-error").each(function(e){e.innerHTML=""})}});$$(".form-submit-print").each(function(e){e.observe("click",function(){$(e.parentNode).hide();$$(".form-textarea, .form-textbox").each(function(e){e.type||(e.value=e.value||"0");var t;(t=e.next(".date-separate"))&&t.hide();var n="";e.value.length<e.size&&(n="width:"+e.size*9+"px;");e.insert({before:(new Element("div",{className:"print_fields"})).update(e.value.replace(/\n/g,"<br>")).setStyle("border:1px solid #ccc; padding:1px 4px;min-height:18px;"+n)}).hide()});window.print();$$(".form-textarea, .form-textbox, .date-separate").invoke("show");$$(".print_fields").invoke("remove");$(e.parentNode).show()})})},hasHiddenValidationConflicts:function(e){var t=e.up("li.form-line");return t&&t.hasClassName("form-field-hidden")?!0:!1},initGradingInputs:function(){var e=this;$$(".form-grading-input").each(function(t){t.observe("blur",function(){t.validateGradingInputs()});t.validateGradingInputs=function(){var t=this,n=t.id.replace(/input_(\d+)_\d+/,"$1"),r=0,i=$(t.parentNode.parentNode),s=/^(\d+[\.]?)+$/,o=!1;t.errored=!1;$("grade_error_"+n).innerHTML="";i.select(".form-grading-input").each(function(e){if(e.value&&!s.test(e.value)){o=!0;throw $break}r+=parseFloat(e.value)||0});if(e.hasHiddenValidationConflicts(t))return JotForm.corrected(t);if(o)return JotForm.errored(t,JotForm.texts.numeric);var u=parseFloat($("grade_total_"+n).innerHTML);$("grade_point_"+n).innerHTML=r;if(r>u){$("grade_error_"+n).innerHTML=" "+JotForm.texts.lessThan+" <b>"+u+"</b>.";return JotForm.errored(t,JotForm.texts.gradingScoreError+" "+u)}return JotForm.corrected(t)}})},initSpinnerInputs:function(){var e=this;$$(".form-spinner-input").each(function(t){t.observe("blur",function(){t.validateSpinnerInputs()}).observe("change",function(){t.validateSpinnerInputs()});var n=t.up("table.form-spinner"),r=n.select("td.form-spinner-up")[0],i=n.select("td.form-spinner-down")[0];r.observe("click",function(e){t.validateSpinnerInputs()});i.observe("click",function(e){t.validateSpinnerInputs()});t.validateSpinnerInputs=function(){var t=this,n=t.id.replace(/input_(\d+)_\d+/,"$1"),r=/^(\d+[\.]?)+$/,i=t.value||0;t.errored=!1;if(e.hasHiddenValidationConflicts(t))return JotForm.corrected(t);if(i&&!r.test(i))return JotForm.errored(t,JotForm.texts.numeric);var s=parseInt(t.readAttribute("data-spinnermin"))||!1,o=parseInt(t.readAttribute("data-spinnermax"))||!1;return s&&i<s?JotForm.errored(t,JotForm.texts.inputCarretErrorA+" "+s):o&&i>o?JotForm.errored(t,JotForm.texts.inputCarretErrorB+" "+o):JotForm.corrected(t)}})},initNumberInputs:function(){var e=this;$$(".form-number-input").each(function(t){t.observe("blur",function(){t.validateNumberInputs()}).observe("change",function(){t.validateNumberInputs()});t.validateNumberInputs=function(){var t=this,n=t.id.replace(/input_(\d+)_\d+/,"$1"),r=/^(\d+[\.]?)+$/;t.errored=!1;if(e.hasHiddenValidationConflicts(t))return JotForm.corrected(t);if(t.value&&!r.test(t.value))return JotForm.errored(t,JotForm.texts.numeric);var i=parseInt(t.readAttribute("data-numbermin")),s=parseInt(t.readAttribute("data-numbermax")),o=parseInt(t.readAttribute("maxlength"));if(o&&t.value&&t.value.length>o)return JotForm.errored(t,JotForm.texts.maxDigitsError+" "+o);if((i||i==0)&&parseInt(t.value)<i)return JotForm.errored(t,JotForm.texts.inputCarretErrorA+" "+i);if(s&&parseInt(t.value)>s)return JotForm.errored(t,JotForm.texts.inputCarretErrorB+" "+s);parseInt(t.value)<0&&(t.value=0);return JotForm.corrected(t)}})},backStack:[],currentSection:!1,handlePages:function(){var e=this,t=[],n;$$(".form-pagebreak").each(function(n,r){var i=$(n.parentNode.parentNode);r>=1?i.hide():JotForm.currentSection=i;t.push(i);i.pagesIndex=r+1;i.select(".form-pagebreak-next").invoke("observe","click",function(){if(JotForm.saving)return;if(JotForm.validateAll(JotForm.getForm(i))){window.parent&&window.parent!=window&&window.parent.postMessage("scrollIntoView","*");if(JotForm.nextPage){JotForm.backStack.push(i.hide());JotForm.currentSection=JotForm.nextPage.show();e.noJump||JotForm.currentSection.scrollIntoView(!0);JotForm.enableDisableButtonsInMultiForms()}else if(i.next()){JotForm.backStack.push(i.hide());JotForm.currentSection=i.next().show();e.noJump||JotForm.currentSection.scrollIntoView(!0);JotForm.enableDisableButtonsInMultiForms()}JotForm.nextPage=!1;JotForm.saveForm&&JotForm.hiddenSubmit(JotForm.getForm(i))}else try{$$(".form-button-error").invoke("remove");$$(".form-pagebreak-next").each(function(e){var t=new Element("div",{className:"form-button-error"});t.insert(JotForm.texts.incompleteFields);$(e.parentNode.parentNode).insert(t)})}catch(t){}});i.select(".form-pagebreak-back").invoke("observe","click",function(){window.parent&&window.parent!=window&&window.parent.postMessage("scrollIntoView","*");if(JotForm.saving)return;i.hide();JotForm.currentSection=JotForm.backStack.pop().show();e.noJump||JotForm.currentSection.scrollIntoView(!0);JotForm.nextPage=!1;JotForm.enableDisableButtonsInMultiForms();JotForm.saveForm&&JotForm.hiddenSubmit(JotForm.getForm(i));$$(".form-button-error").invoke("remove")})});if(t.length>0){var r=$$(".form-section");r.length>0&&(n=r[r.length-1]);if(n){n.pagesIndex=r.length;t.push(n);n.hide();var i=new Element("li",{className:"form-input-wide"}),s=new Element("div",{className:"form-pagebreak"}),o=new Element("div",{className:"form-pagebreak-back-container"}),u=$$(".form-pagebreak-back-container")[0].select("button")[0];u.observe("click",function(){if(JotForm.saving)return;n.hide();JotForm.nextPage=!1});o.insert(u);s.insert(o);i.insert(s);n.insert(i)}}},handleFormCollapse:function(){var e=this,t=!1,n=0;$$(".form-collapse-table").each(function(r){var i=$(r.parentNode.parentNode);i.setUnselectable();if(i.className=="form-section-closed")i.closed=!0;else if(i.select(".form-collapse-hidden").length<0){t=i;n++}r.observe("click",function(){if(i.closed){i.setStyle("overflow:visible; height:auto");var r=i.getHeight();if(t&&t!=i&&n<=1){t.className="form-section-closed";t.shift({height:60,duration:.5});t.select(".form-collapse-right-show").each(function(e){e.addClassName("form-collapse-right-hide").removeClassName("form-collapse-right-show")});t.closed=!0}t=i;i.setStyle("overflow:hidden; height:60px");setTimeout(function(){i.scrollTop=0;i.className="form-section"},1);i.shift({height:r,duration:.5,onEnd:function(t){t.scrollTop=0;t.setStyle("height:auto;");e.noJump||t.scrollIntoView()}});i.select(".form-collapse-right-hide").each(function(e){e.addClassName("form-collapse-right-show").removeClassName("form-collapse-right-hide")});i.closed=!1}else{i.scrollTop=0;i.shift({height:60,duration:.5,onEnd:function(e){e.className="form-section-closed"}});t&&t.select(".form-collapse-right-show").each(function(e){e.addClassName("form-collapse-right-hide").removeClassName("form-collapse-right-show")});i.closed=!0}})})},handlePayPalProMethods:function(){$("creditCardTable")&&$$(".paymentTypeRadios").each(function(e){e.observe("click",function(){e.checked&&e.value=="express"&&$("creditCardTable").hide();e.checked&&e.value=="credit"&&$("creditCardTable").show()})})},description:function(e,t){if(t=="20")return;var n=!1;if(!$(e)){var r=e.replace(/[^\d]/gim,"");if($("id_"+r)){e=$("id_"+r);n=!0}else{if(!$("section_"+r))return;e=$("section_"+r);n=!0}}$(e).setSliderValue&&(e=$($(e).parentNode));var i=JotForm.getContainer(e);if(!i)return;var s=!1,o=new Element("div",{className:"form-description"}),u=new Element("div",{className:"form-description-arrow"}),a=new Element("div",{className:"form-description-arrow-small"}),f=new Element("div",{className:"form-description-content"}),l;if("desc"in document.get&&document.get.desc=="v2"){s=!0;i.insert(l=new Element("div",{className:"form-description-indicator"}));o.addClassName("right")}f.insert(t);o.insert(u).insert(a).insert(f).hide();i.insert(o);i.getWidth()/2<o.getWidth()&&o.setStyle("right: -"+(i.getWidth()-(s?100:20))+"px");if(s){var c=l.measure("height");u.setStyle("top:"+(c/2-20)+"px");a.setStyle("top:"+(c/2-17)+"px");$(i).mouseEnter(function(){i.setStyle("z-index:10000");if(!i.hasClassName("form-line-active")){i.addClassName("form-line-active");i.__classAdded=!0}o.show()},function(){if(i.__classAdded){i.removeClassName("form-line-active");i.__classAdded=!1}i.setStyle("z-index:0");o.hide()});$(e).observe("keydown",function(){i.setStyle("z-index:0");o.hide()})}else if(n)$(e).mouseEnter(function(){i.setStyle("z-index:10000");o.show()},function(){i.setStyle("z-index:0");o.hide()});else{$(i).mouseEnter(function(){i.setStyle("z-index:10000");o.show()},function(){i.setStyle("z-index:0");o.hide()});$(e).observe("keyup",function(){i.setStyle("z-index:0");o.hide()});$(e).observe("focus",function(){i.setStyle("z-index:10000");o.show()});$(e).observe("blur",function(){i.setStyle("z-index:0");o.hide()})}},validateAll:function(e){var t=!0;$$(".form-textarea-limit-indicator-error")[0]&&(t=!1);$$(".form-datetime-validation-error").first()&&(t=!1);if(window.signatureForm){var n=jQuery(".pad");for(var r=0;r<n.length;r++){var i=n[r];if(jQuery(i).attr("data-required")==="true"&&jQuery(i).parent().parent().parent().is(":visible")){t=jQuery(i).jSignature("getData","base30")[1].length>1?!0:!1;var s=jQuery(i).parent().parent();t?s.find(".form-line-error").remove():s.find(".form-line-error").length==0&&s.append('<div class="form-line-error" style="float:left;"><div class="form-error-message"><img src="http://mustafa.jotform.pro/images/exclamation-octagon.png" align="left" style="margin-right:5px;"><div class="form-error-arrow"><div class="form-error-arrow-inner"></div></div>This field is required</div></div>')}}}var o="";e&&e.id&&(o="#"+e.id+" ");$$(o+'*[class*="validate"]').each(function(e){if(e.validateInput===undefined)return;(!e.validateInput||!e.validateInput())&&$(e).parentNode.parentNode.parentNode.getStyle("display")!=="none"&&(t=!1)});return t},errored:function(e,t){e=$(e);if(e.errored)return!1;e.runHint&&e.runHint();if(JotForm.isCollapsed(e)){var n=JotForm.getCollapseBar(e);if(!n.errored){n.select(".form-collapse-mid")[0].insert({top:'<img src="'+this.url+'images/exclamation-octagon.png" align="bottom" style="margin-right:5px;"> '}).setStyle({color:"red"});n.errored=!0}}var r=JotForm.getContainer(e);e.errored=!0;e.addClassName("form-validation-error");r.addClassName("form-line-error");var i=r;i=r.select(".form-input")[0];i||(i=r.select(".form-input-wide")[0]);i||(i=r);i.select(".form-error-message").invoke("remove");if(this.url.search("https")==-1)var s="http://cdn.jotfor.ms/";else var s="https://d3rpkyj7yvufwq.cloudfront.net/";i.insert((new Element("div",{className:"form-error-message"})).insert('<img src="'+s+'images/exclamation-octagon.png" align="left" style="margin-right:5px;"> '+t).insert((new Element("div",{className:"form-error-arrow"})).insert(new Element("div",{className:"form-error-arrow-inner"}))));return!1},corrected:function(e){JotForm.hideButtonMessage();e=$(e);e.errored=!1;if(JotForm.isCollapsed(e)){var t=JotForm.getCollapseBar(e);if(t.errored){t.select(".form-collapse-mid")[0].setStyle({color:""}).select("img")[0].remove();t.errored=!1}}var n=JotForm.getContainer(e);if(!n)return!0;n.select(".form-validation-error").invoke("removeClassName","form-validation-error");n.removeClassName("form-line-error");n.select(".form-error-message").invoke("remove");return!0},hideButtonMessage:function(){$$(".form-button-error").invoke("remove")},showButtonMessage:function(){this.hideButtonMessage();$$(".form-submit-button").each(function(e){var t=new Element("div",{className:"form-button-error"});t.insert("<p>"+JotForm.texts.incompleteFields+"</p>");$(e.parentNode.parentNode).insert(t)})},validator:function(){if(this.debugOptions&&this.debugOptions.stopValidations){this.info("Validations stopped by debug parameter");return!0}var e=this,t={email:/[a-z0-9!#$%&'*+\/=?\^_`{|}~\-]+(?:\.[a-z0-9!#$%&'*+\/=?\^_`{|}~\-]+)*@(?:[a-z0-9](?:[a-z0-9\-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9\-]*[a-z0-9])/i,alphanumeric:/^[a-zA-Z0-9]+$/,numeric:/^(\d+[\.]?)+$/,alphabetic:/^[a-zA-Z\s]+$/};$A(JotForm.forms).each(function(n){if(n.validationSet)return;n.validationSet=!0;n.observe("submit",function(e){try{if(!JotForm.validateAll(n)){JotForm.enableButtons();JotForm.showButtonMessage();e.stop();return}}catch(t){JotForm.error(t);e.stop();return}$$(".form-field-hidden input",".form-field-hidden select",".form-field-hidden textarea").each(function(e){e.tagName=="input"&&["checkbox","radio"].include(e.readAttribute("type"))?e.checked=!1:e.clear()});if(JotForm.compact&&JotForm.imageSaved==0){e.stop();window.parent.saveAsImage();$(document).observe("image:loaded",function(){var e;$(document.body).insert(e=(new Element("div")).setStyle("position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,0.85);"));e.insert('<table height="100%" width="100%"><tr><td align="center" valign="middle" style="font-family:Verdana;color:#fff;font-size:16px;">Please Wait...</td></tr></table>');setTimeout(function(){n.submit()},1e3)});return}var r=n.select(".form-grading-input");r&&r.each(function(t){var n=t.validateGradingInputs();n||e.stop()});var i=n.select(".form-spinner-input");i&&i.each(function(t){var n=t.validateSpinnerInputs();n||e.stop()});var s=n.select(".form-number-input");s&&s.each(function(t){var n=t.validateNumberInputs();n||e.stop()});n.readAttribute("data-autofill")&&n.releaseAutoFill()});$$("#"+n.id+' *[class*="validate"]').each(function(n){var r=n.className.replace(/.*validate\[(.*)\].*/,"$1").split(/\s*,\s*/);n.validateInput=function(i){if(!JotForm.isVisible(n))return!0;$(n.parentNode).hasClassName("form-matrix-values")||JotForm.corrected(n);var s=r;if(n.hinted===!0){n.clearHint();setTimeout(function(){n.hintClear()},150)}if(n.readAttribute("data-type")==="input-spinner"&&n.value)return n.validateSpinnerInputs();if(n.readAttribute("data-type")==="input-grading"&&n.value)return n.validateGradingInputs();if(n.readAttribute("data-type")==="input-number"&&n.value)return n.validateNumberInputs();if(s.include("Email_Confirm")){console.log('if (vals.include("Email_Confirm")) {');var o=n.id.replace(/.*_(\d+)(?:_confirm)?/gim,"$1");if($("input_"+o).value!=$("input_"+o+"_confirm").value)return JotForm.errored(n,JotForm.texts.confirmEmail);if($("input_"+o+"_confirm").value&&!t.email.test($("input_"+o+"_confirm").value))return JotForm.errored(n,JotForm.texts.email)}else if(s.include("required")){if(n.tagName=="INPUT"&&n.readAttribute("type")=="file")return n.value.empty()&&!n.uploadMarked?JotForm.errored(n,JotForm.texts.required):JotForm.corrected(n);if(n.tagName!="INPUT"||n.readAttribute("type")!="radio"&&n.readAttribute("type")!="checkbox"){if(!(n.tagName!="INPUT"&&n.tagName!="SELECT"||!$(n.parentNode).hasClassName("form-matrix-values"))){var a={},p=!1;n.up("table").select(n.tagName).each(function(e){e.name in a||(a[e.name]=!1);a[e.name]!==!0&&(a[e.name]=e.value&&!e.value.strip(" ").empty());a[e.name]===!0&&(p=!0)});return s.include("requireEveryRow")&&!$H(a).values().all()?JotForm.errored(n,JotForm.texts.requireEveryRow):s.include("requireOneAnswer")&&!p?JotForm.errored(n,JotForm.texts.requireOne):JotForm.corrected(n)}if(n.name&&n.name.include("["))try{var d=e.getContainer(n),v=d.select("input,select[name*="+n.name.replace(/\[.*$/,"")+"]").map(function(e){if(e.hasClassName("form-address-state")){var t=d.select(".form-address-country")[0].value;if(t!="United States"&&t!="Canada"&&t!="Please Select"){e.removeClassName("form-validation-error");e.__skipField=!0;return!1}}else e.__skipField&&(e.__skipField=!1);if(e.className.include("validate[required]")&&JotForm.isVisible(e))if(e.value.empty()||e.value.strip()=="Please Select"){e.addClassName("form-validation-error");return!0}e.removeClassName("form-validation-error");return!1});if(v.any())return JotForm.errored(n,JotForm.texts.required)}catch(m){JotForm.error(m);return JotForm.corrected(n)}}else if($(n.parentNode).hasClassName("form-matrix-values")){var u=n.readAttribute("type"),a={},f=!1;n.up("table").select("input").each(function(e){e.name in a||(a[e.name]=!1);a[e.name]!==!0&&(a[e.name]=e.checked);a[e.name]===!0&&(f=!0)});if(!s.include("requireOneAnswer"))return $H(a).values().all()?JotForm.corrected(n):JotForm.errored(n,JotForm.texts.requireEveryRow);if(!f)return JotForm.errored(n,JotForm.texts.requireOne)}else{var l=n.name.substr(0,n.name.indexOf("[")),c=l+"[other]",h=[];if(document.getElementsByName(c)[0]){h=$A(document.getElementsByName(l+"[]"));h[h.length]=document.getElementsByName(c)[0];if(!h.map(function(e){return e.checked}).any())return JotForm.errored(n,JotForm.texts.required)}else if(!$A(document.getElementsByName(n.name)).map(function(e){return e.checked}).any())return JotForm.errored(n,JotForm.texts.required)}if(n.__skipField)return JotForm.corrected(n);if((!n.value||n.value.strip(" ").empty()||n.value=="Please Select")&&n.readAttribute("type")!="radio"&&n.readAttribute("type")!="checkbox"&&!$(n.parentNode).hasClassName("form-matrix-values"))return JotForm.errored(n,JotForm.texts.required);s=s.without("required")}else if(n.value.empty())return!0;if(!s[0])return!0;switch(s[0]){case"Email":if(!t.email.test(n.value))return JotForm.errored(n,JotForm.texts.email);break;case"Alphabetic":if(!t.alphabetic.test(n.value))return JotForm.errored(n,JotForm.texts.alphabetic);break;case"Numeric":if(!t.numeric.test(n.value))return JotForm.errored(n,JotForm.texts.numeric);break;case"AlphaNumeric":if(!t.alphanumeric.test(n.value))return JotForm.errored(n,JotForm.texts.alphanumeric);break;default:}return JotForm.corrected(n)};var i=function(t){setTimeout(function(){!e.lastFocus||e.lastFocus!=n&&e.getContainer(e.lastFocus)==e.getContainer(n)?n.type=="hidden"&&n.validateInput():n.validateInput()},10)};n.type=="hidden"?n.observe("change",i):n.observe("blur",i);if(n.up(".form-spinner")){var s=function(){n.validateInput()};n.up(".form-spinner").down(".form-spinner-up").observe("click",s);n.up(".form-spinner").down(".form-spinner-down").observe("click",s)}});$$(".form-upload").each(function(e){try{var t=!!e.validateInput,n=e.validateInput||Prototype.K;e.validateInput=function(){e.errored=!1;if(n()!==!1){if(!e.files)return!0;var t=e.readAttribute("accept")||e.readAttribute("file-accept")||"",r=e.readAttribute("maxsize")||e.readAttribute("file-maxsize")||"",i=t.strip().split(/\s*\,\s*/gim),s=parseInt(r,10)*1024,o=e.files[0];if(!o)return!0;o.fileName||(o.fileName=o.name);var u="";JotForm.getFileExtension(o.fileName)&&(u=JotForm.getFileExtension(o.fileName));if(t!="*"&&!i.include(u)&&!i.include(u.toLowerCase()))return JotForm.errored(e,JotForm.texts.uploadExtensions+"<br/>"+t);var a=e.readAttribute("data-imagevalidate")||!1,f="jpeg, jpg, png, gif, bmp";if((i.include(u)||i.include(u.toLowerCase()))&&a&&(a==="yes"||a==="true")&&(f.include(u)||f.include(u.toLowerCase()))&&typeof window.FileReader!=undefined){var l=new FileReader;l.onloadend=function(t){var n={filename:o.name,size:o.size,binary:t.target.result};ImageInfo.loadInfo(n,function(){var t=ImageInfo.getAllFields(o.name);if(t.format==="UNKNOWN")return JotForm.errored(e,"You have uploaded an invalid image file type.")})};l.readAsBinaryString(o)}o.fileSize||(o.fileSize=o.size);return o.fileSize>s?JotForm.errored(e,JotForm.texts.uploadFilesize+" "+r+"Kb"):JotForm.corrected(e)}};if(!t){e.addClassName("validate[upload]");e.observe("blur",e.validateInput)}}catch(r){JotForm.error(r)}})})},FBInit:function(){JotForm.FBNoSubmit=!0;FB.getLoginStatus(function(e){e.authResponse?JotForm.FBCollectInformation(e.authResponse.userID):FB.Event.subscribe("auth.login",function(e){JotForm.FBCollectInformation(e.authResponse.userID)})})},FBCollectInformation:function(e){JotForm.FBNoSubmit=!1;var t=$$(".form-helper").collect(function(e){var t="",n=e.readAttribute("data-info").replace("user_","");switch(n){case"location":t="current_location"
;break;case"can_be_anyvalue":t="place correct one here";break;default:t=n}return[t,e.id]}),n={};$A(t).each(function(e){n[e[0]]=e[1]});try{var r=$H(n).keys().join(", "),i=FB.Data.query("SELECT "+r+" FROM user WHERE uid={0}",e);i.wait(function(t){var r;$H(t[0]).each(function(e){if(r=$(n[e.key]))switch(e.key){case"current_location":r.value=e.value.name;break;case"website":r.value=e.value.split(/\s+/).join(", ");break;default:r.value=e.value}});JotForm.bringOldFBSubmissionBack(e);var i=(new Element("input",{type:"hidden",name:"fb_user_id"})).setValue(e),s=JotForm.getForm(r);s.insert({top:i})})}catch(s){console.error(s)}$$(".fb-login-buttons").invoke("show");$$(".fb-login-label").invoke("hide")},bringOldFBSubmissionBack:function(e){var t=$$('input[name="formID"]')[0],n=new Ajax.Jsonp(JotForm.url+"server.php",{parameters:{action:"bringOldFBSubmissionBack",formID:t.value,fbid:e},evalJSON:"force",onComplete:function(e){var t=e.responseJSON;t.success&&JotForm.editMode(t,!0,["control_helper","control_fileupload"])}})},getQuerystring:function(e,t){t==null&&(t="");e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var n=new RegExp("[\\?&]"+e+"=([^&#]*)"),r=n.exec(window.location.href);return r==null?t:r[1]},hideSubmissionEmptyFields:function(e){var t="#"+e,n=$$(t)[0];n.observe("submit",function(e){var t=$$("li.form-line");t.each(function(e){var t=e.select("input, select, textarea")||!1;t&&t.each(function(e){e&&(e.value==""||e.value.length<1)&&e.removeAttribute("name")})})})},setCustomHint:function(e,t){var n=$(e)||null,r=t.replace(/<br>/gim,"\n")||"";n.addClassName("custom-hint-group").writeAttribute("data-customhint",t).writeAttribute("customhinted","true");n.hasContent=n.value&&n.value.replace(/\n/gim,"<br>")!=t?!0:!1;n.showCustomPlaceHolder=function(){if(!this.hasContent){this.value=r;this.writeAttribute("spellcheck","false").addClassName("form-custom-hint")}};n.hideCustomPlaceHolder=function(){if(!this.hasContent){this.value="";this.removeClassName("form-custom-hint").removeAttribute("spellcheck")}};n.observe("focus",function(e){this.hideCustomPlaceHolder()}).observe("blur",function(e){this.showCustomPlaceHolder()}).observe("keyup",function(e){this.hasContent=this.value.length>0?!0:!1});n.up("form.jotform-form").observe("submit",function(){this.select(".custom-hint-group").each(function(e){e.hideCustomPlaceHolder()})});n.showCustomPlaceHolder()},autoFillInitialize:function(e){var t=$$('input[name="formID"]')[0].value;e.name="form_"+t;var n="form#"+t,r=$$(n)[0];r.writeAttribute("data-autofill","true");r.releaseAutoFill=function(){console.log("submitted");jQuery.autoFill().stopSavingData();jQuery.autoFill().manuallyReleaseData()};var i={_handleCustomHint:function(e){var t=e.protectedfields,n=e.protectedfieldsdata,r=0;$H(n).each(function(e){var n=t[r],i=$(n),s=e[1],o=s.newinputvalue?s.newinputvalue.replace(/\n/gim,"<br>"):!1;if(i.hasAttribute("data-customhint")||i.hasAttribute("customhinted")){var u=i.readAttribute("data-customhint");if(u&&o&&u!=o){i.removeClassName("form-custom-hint");i.hasContent=!0}}else if(i.hasAttribute("hinted")||i.hinted){var u=s.oldinputvalue?s.oldinputvalue.replace(/\n/gim,"<br>"):!1;u&&o&&u!=o&&i.setStyle({color:"#000"})}r++})},_handleGradingTotal:function(e){if($$(".form-grading-input").length>0){var t=0,n=null;$$(".form-grading-input").each(function(e){n=e.id.replace(/input_(\d+)_\d+/,"$1"),t+=parseFloat(e.value)||0});$("grade_point_"+n).innerHTML=t}}};jQuery(n).autoFill({timeout:e.timeout,customKeyPrefix:e.customprefix,name:e.name,onBeforeSave:function(){},onSave:function(){},onRelease:function(){},onBeforeRestore:function(){},onRestore:function(e){var t=this.restoredData[0];if(t){i._handleCustomHint(t);i._handleGradingTotal(t)}}});this.autoFillDeployed=!0},setPhoneMaskingValidator:function(e,t,n){var r="#"+e,n=n?n:!1;jQuery.mask.definitions["#"]="[0-9]";jQuery.mask.placeholder="_";jQuery.mask.dataName="jotFormPhoneMsk";n?jQuery(r).unmask():jQuery(r).mask(t)}};window.fbAsyncInit=JotForm.FBInit.bind(JotForm);